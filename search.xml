<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>How To Install an FTP Server On Ubuntu with vsftpd</title>
      <link href="/2021/11/07/How-To-Install-an-FTP-Server-On-Ubuntu-with-vsftpd/"/>
      <url>/2021/11/07/How-To-Install-an-FTP-Server-On-Ubuntu-with-vsftpd/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><strong>If you are looking to install an FTP server on Ubuntu, you can’t beat the simplicity of vsftpd .</strong></p><p>FTP stands for File Transfer Protocol. It is similar to HTTP (HyperText Transfer Protocol), in that it specifies a language for transferring data over a network. FTP is unencrypted by default, so by itself, it is not a good choice for secure transmission of data.</p><p>This guide will help you install and configure an FTP server with vsftpd on Ubuntu.</p><p><img src="http://192.168.100.150:4567/assets/uploads/files/1636215779765-how-to-install-ftp-server-on-ubuntu-using-vsftpd.png" alt="how-to-install-ftp-server-on-ubuntu-using-vsftpd.png"> </p><h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><ul><li>Access to a user account with sudo privileges</li><li>Access to a terminal window/command line (Ctrl-Alt-T)</li><li>The apt package manager, included by default</li></ul><h3 id="Step-1-Update-System-Packages"><a href="#Step-1-Update-System-Packages" class="headerlink" title="Step 1: Update System Packages"></a>Step 1: Update System Packages</h3><p>Start by updating your repositories – enter the following in a terminal window:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><p>The system proceeds to update the repositories.<br><img src="/assets/uploads/files/1636215849751-sudo-apt-get-update-ubuntu-vsftpd.png" alt="sudo-apt-get-update-ubuntu-vsftpd.png"> </p><h3 id="Step-2-Install-vsftpd-Server-on-Ubuntu"><a href="#Step-2-Install-vsftpd-Server-on-Ubuntu" class="headerlink" title="Step 2: Install vsftpd Server on Ubuntu"></a>Step 2: Install vsftpd Server on Ubuntu</h3><p>A common open-source FTP utility used in Ubuntu is vsftpd. It is recommended for its ease of use.</p><ol><li>To install vsftpd, enter the command:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install vsftpd</span><br></pre></td></tr></table></figure>This is an example of the output in Ubuntu.</li></ol><p><img src="/assets/uploads/files/1636215894864-install-vsftpd-ubuntu-ftp.png" alt="install-vsftpd-ubuntu-ftp.png"> </p><ol start="2"><li>To launch the service and enable it at startup, run the commands:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start vsftpd</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable vsftpd</span><br></pre></td></tr></table></figure><h3 id="Step-3-Backup-Configuration-Files"><a href="#Step-3-Backup-Configuration-Files" class="headerlink" title="Step 3: Backup Configuration Files"></a>Step 3: Backup Configuration Files</h3><p>Before making any changes, make sure to back up your configuration files.</p><ol><li>Create a backup copy of the default configuration file by entering the following:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/vsftpd.conf  /etc/vsftpd.conf_default</span><br></pre></td></tr></table></figure><h3 id="Step-4-Create-FTP-User"><a href="#Step-4-Create-FTP-User" class="headerlink" title="Step 4: Create FTP User"></a>Step 4: Create FTP User</h3>Create a new FTP user with the following commands:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -m testuser</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 21/tcp</span><br></pre></td></tr></table></figure><img src="/assets/uploads/files/1636215980766-configure-firewall-to-allow-ftp-traffic.png" alt="configure-firewall-to-allow-ftp-traffic.png"> </li></ol><h3 id="Step-6-Connect-to-Ubuntu-FTP-Server"><a href="#Step-6-Connect-to-Ubuntu-FTP-Server" class="headerlink" title="Step 6: Connect to Ubuntu FTP Server"></a>Step 6: Connect to Ubuntu FTP Server</h3><p>Connect to the FTP server with the following command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ftp ubuntu-ftp</span><br></pre></td></tr></table></figure><p>Replace <em><strong>ubuntu-ftp</strong></em> with the name of your system (taken from the command line).</p><p><strong>Log in</strong> using the <strong>testuser</strong> account and password you just set. You should now be successfully logged in to your FTP server.</p><h2 id="Configuring-and-Securing-Ubuntu-vsftpd-Server"><a href="#Configuring-and-Securing-Ubuntu-vsftpd-Server" class="headerlink" title="Configuring and Securing Ubuntu vsftpd Server"></a>Configuring and Securing Ubuntu vsftpd Server</h2><h3 id="Change-Default-Directory"><a href="#Change-Default-Directory" class="headerlink" title="Change Default Directory"></a>Change Default Directory</h3><p>By default, the FTP server uses the <strong>/srv/ftp</strong> directory as the default directory. You can change this by creating a new directory and changing the FTP user home directory.</p><p>To change the FTP home directory, enter the following:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /srv/ftp/new_location</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -d /srv/ftp/new_location ftp</span><br></pre></td></tr></table></figure><p>Restart the <strong>vsftpd</strong> service to apply the changes:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart vsftpd.service</span><br></pre></td></tr></table></figure><p>Now, you can put any files you want to share via FTP into the <strong>/srv/ftp</strong> folder (if you left it as the default), or the <em><strong>/srv/ftp/new_location/</strong></em> directory (if you changed it).</p><h3 id="Authenticate-FTP-Users"><a href="#Authenticate-FTP-Users" class="headerlink" title="Authenticate FTP Users"></a>Authenticate FTP Users</h3><p>If you want to let authenticated users upload files, edit the <strong>vsftpd.conf</strong> file by entering the following:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/vsftpd.conf</span><br></pre></td></tr></table></figure><p>Find the entry labeled <em><strong>write_enable=NO</strong></em>, and change the value to “<strong>YES</strong>.”</p><p><img src="/assets/uploads/files/1636216221569-write-enable-yes-vsftpd-conf.png" alt="write-enable-yes-vsftpd-conf.png"><br>Save the file, exit, then restart the FTP service with the following:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart vsftpd.service</span><br></pre></td></tr></table></figure><p>This allows the user to make changes inside their home directory.</p><h2 id="Securing-FTP"><a href="#Securing-FTP" class="headerlink" title="Securing FTP"></a>Securing FTP</h2><p>Numerous exploits take advantage of unsecured FTP servers. In response, there are several configuration options in vsftpd.conf that can help secure your FTP server.</p><h3 id="Limit-User-Access"><a href="#Limit-User-Access" class="headerlink" title="Limit User Access"></a>Limit User Access</h3><p>One method is to limit users to their home directory. Open <strong>vsftpd.conf</strong> in an editor and uncomment the following command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chroot_local_user=YES</span><br></pre></td></tr></table></figure><p>This is an example of the file in <strong>nano</strong>:<br><img src="/assets/uploads/files/1636216302377-chroot-local-user-yes-vsftpd-conf.png" alt="chroot-local-user-yes-vsftpd-conf.png"> </p><h3 id="Create-a-User-List-File"><a href="#Create-a-User-List-File" class="headerlink" title="Create a User List File"></a>Create a User List File</h3><p>To create a list file, edit <strong>/etc/vsftpd.chroot_list</strong>, and add one user per line.</p><p>Instruct your FTP server to limit this list of users to their own home directories by editing <strong>vsftpd.conf</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chroot_local_user=YES</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chroot_list_file=/etc/vsftpd.chroot_list</span><br></pre></td></tr></table></figure><p>The image ilustrates the edits that were made:<br><img src="/assets/uploads/files/1636216446038-chroot-list-file-vsftpd.png" alt="chroot-list-file-vsftpd.png"><br>Restart the <strong>vsftpd</strong> service:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart vsftpd.service</span><br></pre></td></tr></table></figure><p>By default, the list of blocked users from FTP access is stored in <strong>/etc/ftpusers</strong>. To add blocked users, edit this file and add one user per line.</p><h3 id="Encrypt-Traffic-With-FTPS"><a href="#Encrypt-Traffic-With-FTPS" class="headerlink" title="Encrypt Traffic With FTPS"></a>Encrypt Traffic With FTPS</h3><p>Another method to secure your FTP server is to encrypt the traffic. This is done by using <strong>FTPS</strong> – File Transfer Protocol over SSL (Secure Socket Layer).</p><p>For this to work, users need to be set up with a shell account on the FTP server. This will add a layer of secure encryption to your FTP traffic.</p><ol><li><p>Start by creating a new certificate with openssl. To do so, run the command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/vsftpd.pem -out /etc/ssl/private/vsftpd.pem</span><br></pre></td></tr></table></figure></li><li><p>Provide the required information when prompted or keep the default configuration by pressing <strong>Enter</strong>.</p></li><li><p>Next, open your <strong>vsftpd.conf</strong> file in an editor and change the line <strong>ssl_enable=NO</strong> to <strong>ssl_enable=YES</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssl_enable=YES</span><br></pre></td></tr></table></figure></li><li><p>Then, add the following lines:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">rsa_cert_file=/etc/ssl/private/vsftpd.pem</span><br><span class="line">rsa_private_key_file=/etc/ssl/private/vsftpd.pem</span><br><span class="line">allow_anon_ssl=NO</span><br><span class="line">force_local_data_ssl=YES</span><br><span class="line">force_local_logins_ssl=YES</span><br><span class="line">ssl_tlsv1=YES</span><br><span class="line">ssl_sslv2=NO</span><br><span class="line">ssl_sslv3=NO</span><br><span class="line">require_ssl_reuse=NO</span><br><span class="line">ssl_ciphers=HIGH</span><br><span class="line">pasv_min_port=40000</span><br><span class="line">pasv_max_port=50000</span><br></pre></td></tr></table></figure></li><li><p>Save the changes and exit the file.</p></li><li><p>Finally, restart the service to apply the changes:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart vsftpd.service</span><br></pre></td></tr></table></figure></li></ol><p><strong>Note:</strong> For more information on SSL configurations and certificates, please see the Ubuntu <a href="https://ubuntu.com/server/docs">FTP server documentation</a>. Also, it’s worth noting that FTPS is a different protocol that SFTP. SFTP stands for Secure File Transfer Protocol, and it’s an entirely different protocol.</p><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Now, you should have installed an FTP server on Ubuntu with <strong>vsftpd</strong>.</p><p>You should now be able to configure your user lists and accounts, and connect to your new FTP server. We also detailed the risks of the FTP protocol, and how to mitigate them.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>FUCK U</title>
      <link href="/2021/11/07/FUCK-U/"/>
      <url>/2021/11/07/FUCK-U/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>987654321</title>
      <link href="/2021/11/07/0987654321/"/>
      <url>/2021/11/07/0987654321/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2021/11/07/hello-world/"/>
      <url>/2021/11/07/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>1234567889</title>
      <link href="/2021/11/07/1234567889/"/>
      <url>/2021/11/07/1234567889/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>I AM SINMEI</title>
      <link href="/2021/11/07/I-AM-SINMEI/"/>
      <url>/2021/11/07/I-AM-SINMEI/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>THIS IS A TEST</title>
      <link href="/2021/11/07/THIS-IS-A-TEST/"/>
      <url>/2021/11/07/THIS-IS-A-TEST/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>HELLO WORLD HAHAHAHA</title>
      <link href="/2021/11/07/HELLO-WORLD-HAHAHAHA/"/>
      <url>/2021/11/07/HELLO-WORLD-HAHAHAHA/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>My New Post</title>
      <link href="/2021/11/07/My-New-Post/"/>
      <url>/2021/11/07/My-New-Post/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
